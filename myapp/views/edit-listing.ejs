<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <h1>New Listing</h1>
    <form action="/listing/update-listing" method="post">
      <h2>Basic Listing Information</h2>
      <p>Title</p>
      <input type="hidden" name="listingid" value="<%=data.listingid%>" readonly>
      <input type="hidden" name="buildingid" value="<%=data.buildingid%>" readonly>
      <input type="hidden" name="propertyid" value="<%=data.propertyid%>" readonly>
      <input type="hidden" name="locationid" value="<%=data.locationid%>" readonly>

      <input type="text" name="title" value="<%=data.title%>" required>
      <p>Price</p>
      <input type="number" name="price" value="<%=data.price%>" required><br><br>
      <label for="type">Listing Type</label><br><br>

      <select id="listing_type" name="listing_type">
        <option value="rental">Rental</option>
        <option value="sale">Sale</option>
      </select>

      <p>Description</p>
      <input type="text" name="description" value="<%=data.description%>">
      <h2>Building</h2>
      <p>Bathrooms</p>
      <input type="number" name="bathrooms" value="<%=data.bathrooms%>" required>
      <p>Bedrooms</p>
      <input type="number" name="bedrooms" value="<%=data.bedrooms%>" required>
      <p>Floor Space (Sqft)</p>
      <input type="number" name="floor_space" value="<%=data.floor_space%>">
      <p>Building Type</p>
      <input type="text" name="building_type" value="<%=data.building_type%>">
      <p>Storeys</p>
      <input type="number" name="storeys" value="<%=data.storeys%>">
      <p>Appliances</p>
      <input type="text" name="appliances" value="<%=data.appliances%>">
      <h2>Property</h2>
      <p>Property Age (Years)</p>
      <input type="number" name="property_age" value="<%=data.property_age%>">
      <p>Annual Property Tax</p>
      <input type="number" name="annual_property_tax" value="<%=data.annual_property_tax%>">
      <p>Parking Type</p>
      <input type="text" name="parking_type" value="<%=data.parking_type%>">
      <p>Amenities</p>
      <input type="text" name="amenities" value="<%=data.amenities%>">
      <h2>Location</h2>
      <p>Country</p>
      <input type="text" name="country" value="<%=data.country%>" required>
      <p>Province/State</p>
      <input type="text" name="province_state" value="<%=data.province_state%>" required>
      <p>City</p>
      <input type="text" name="city" value="<%=data.city%>" required>
      <p>Address</p>
      <input type="text" name="address" value="<%=data.address%>" required>
      <p>Postal Code</p>
      <input type="text" name="postal_code" value="<%=data.postal_code%>" required>
      <p> </p>
      <button type="submit">Update</button>
    </form>
    <form action="/listing/delete-listing" method="post">
      <h2>Testing delete button</h2>
      <input type="hidden" name="listingid" value="<%=data.listingid%>" readonly>
      <input type="hidden" name="buildingid" value="<%=data.buildingid%>" readonly>
      <input type="hidden" name="propertyid" value="<%=data.propertyid%>" readonly>
      <input type="hidden" name="locationid" value="<%=data.locationid%>" readonly>
      <button type="submit">Click to delete</button>
  </form>
  </body>
  <script>
      $('#listing_type').val("<%=data.listing_type%>")
  </script>
</html>